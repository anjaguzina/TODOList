<Window x:Class="TODOList.View.EditTask"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:TODOList.View"
        xmlns:conv="clr-namespace:TODOList.Converters"
        mc:Ignorable="d"
        Title="Edit task" 
        Height="580" Width="400"
        ResizeMode="NoResize"
        Background="White" FontFamily="Segoe UI" FontSize="14">

    <Window.Resources>
        <conv:InverseBooleanConverter x:Key="InverseBooleanConverter"/>

        <!-- Stil za Add/Update dugme -->
        <Style x:Key="AddButtonStyle" TargetType="Button">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="Width" Value="150"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="Gray" BorderBrush="#B0B0B0" BorderThickness="1" CornerRadius="8">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsEnabled" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#0288D1"/>
                                <Setter TargetName="border" Property="BorderBrush" Value="#0288D1"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Background" Value="#B0B0B0"/>
                                <Setter TargetName="border" Property="BorderBrush" Value="#888"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Stil za Cancel dugme -->
        <Style x:Key="CancelButtonStyle" TargetType="Button">
            <Setter Property="Foreground" Value="Black"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="Width" Value="150"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="#FFCDD2" BorderBrush="#E57373" BorderThickness="1" CornerRadius="8">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#F28B82"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Stil za TextBox -->
        <Style TargetType="TextBox" x:Key="CustomTextBox">
            <Setter Property="FontFamily" Value="Calibri"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Padding" Value="5"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Background" Value="Transparent"/>
        </Style>

        <!-- Stil za DatePicker -->
        <Style TargetType="DatePicker" x:Key="CustomDatePicker">
            <Setter Property="FontFamily" Value="Calibri"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Padding" Value="5"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Background" Value="Transparent"/>
        </Style>
    </Window.Resources>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Naslov -->
        <Label Grid.Row="0" HorizontalAlignment="Center" FontWeight="Bold" FontSize="24" Foreground="#6A5ACD" Margin="0,10">Task</Label>

        <!-- Polja za unos -->
        <StackPanel x:Name="stackPanel" Grid.Row="1" VerticalAlignment="Top" HorizontalAlignment="Stretch">

            <!-- Title -->
            <Label Content="Title" Margin="0,0,0,5" FontFamily="Segoe UI Semibold" FontSize="16" FontWeight="Bold" Foreground="#4B0082"/>
            <Border CornerRadius="8" Background="#FFF9E6" BorderBrush="#FFD580" BorderThickness="1" Padding="5" Margin="0,0,0,10">
                <TextBox x:Name="textBoxTitle"
                         Text="{Binding Path=Title, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                         TextChanged="textBox_TextChanged"
                         Style="{StaticResource CustomTextBox}"/>
            </Border>

            <!-- Description -->
            <Label Content="Description" Margin="0,0,0,5" FontFamily="Segoe UI Semibold" FontSize="16" FontWeight="Bold" Foreground="#4B0082"/>
            <Border CornerRadius="8" Background="#E6F0FF" BorderBrush="#99CCFF" BorderThickness="1" Padding="5" Margin="0,0,0,10">
                <TextBox x:Name="textBoxDescription"
                         Text="{Binding Path=Description, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                         TextChanged="textBox_TextChanged"
                         Style="{StaticResource CustomTextBox}"
                         AcceptsReturn="True"
                         Height="100"
                         TextWrapping="Wrap"/>
            </Border>

            <!-- Due date -->
            <Label Content="Due date" Margin="0,0,0,5" FontFamily="Segoe UI Semibold" FontSize="16" FontWeight="Bold" Foreground="#4B0082"/>
            <Border CornerRadius="8" Background="#F3E6FF" BorderBrush="#CC99FF" BorderThickness="1" Padding="5" Margin="0,0,0,10">
                <DatePicker x:Name="datePickerDueDate"
                            SelectedDateChanged="datePickerDueDate_SelectedDateChanged"
                            SelectedDate="{Binding Path=DueDate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            Style="{StaticResource CustomDatePicker}"/>
            </Border>

            <!-- Is Completed -->
            <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,0,10">
                <Label Content="Is Completed" VerticalAlignment="Center" Margin="0,0,10,0" FontFamily="Segoe UI Semibold" FontSize="16" FontWeight="Bold" Foreground="#4B0082"/>
                <RadioButton x:Name="radioTrue" Content="True" GroupName="StatusGroup" Foreground="#4CAF50" Margin="0,0,10,0"
                             IsChecked="{Binding IsCompleted, Mode=TwoWay}" VerticalAlignment="Center"/>
                <RadioButton x:Name="radioFalse" Content="False" GroupName="StatusGroup" Foreground="#F44336"
                             IsChecked="{Binding IsCompleted, Converter={StaticResource InverseBooleanConverter}, Mode=TwoWay}" VerticalAlignment="Center"/>
            </StackPanel>
        </StackPanel>

        <!-- Dugmad Update i Cancel -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20,0,10">
            <Button x:Name="buttonAdd" Content="Update" Click="UpdateTask" Style="{StaticResource AddButtonStyle}" Margin="0,0,10,0"/>
            <Button x:Name="butonCancel" Content="Cancel" Click="Cancel_Click" Style="{StaticResource CancelButtonStyle}"/>
        </StackPanel>
    </Grid>
</Window>
